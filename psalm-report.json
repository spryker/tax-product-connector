{
    "error": [
        {
            "severity": "error",
            "line_from": 127,
            "line_to": 127,
            "type": "InvalidReturnType",
            "message": "The declared return type 'array<array-key, int>' for Spryker\\Zed\\TaxProductConnector\\Business\\Calculator\\ProductItemTaxRateCalculator::getIdProductAbstruct is incorrect, got 'array<int, int|null>'",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Calculator/ProductItemTaxRateCalculator.php",
            "snippet": "     * @return array<int>",
            "selected_text": "array<int>",
            "error_level": 6,
            "shortcode": 11
        },
        {
            "severity": "error",
            "line_from": 136,
            "line_to": 136,
            "type": "InvalidReturnStatement",
            "message": "The inferred type 'array<int, int|null>' does not match the declared return type 'array<array-key, int>' for Spryker\\Zed\\TaxProductConnector\\Business\\Calculator\\ProductItemTaxRateCalculator::getIdProductAbstruct",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Calculator/ProductItemTaxRateCalculator.php",
            "snippet": "        return array_unique($result);",
            "selected_text": "array_unique($result)",
            "error_level": 6,
            "shortcode": 128
        },
        {
            "severity": "error",
            "line_from": 116,
            "line_to": 116,
            "type": "InvalidReturnType",
            "message": "The declared return type 'array<array-key, int>' for Spryker\\Zed\\TaxProductConnector\\Business\\Model\\ProductItemTaxRateCalculator::getAllIdAbstractProducts is incorrect, got 'list<int|null>'",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Model/ProductItemTaxRateCalculator.php",
            "snippet": "     * @return array<int>",
            "selected_text": "array<int>",
            "error_level": 6,
            "shortcode": 11
        },
        {
            "severity": "error",
            "line_from": 125,
            "line_to": 125,
            "type": "InvalidReturnStatement",
            "message": "The inferred type 'list<int|null>' does not match the declared return type 'array<array-key, int>' for Spryker\\Zed\\TaxProductConnector\\Business\\Model\\ProductItemTaxRateCalculator::getAllIdAbstractProducts",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Model/ProductItemTaxRateCalculator.php",
            "snippet": "        return $allIdProductAbstracts;",
            "selected_text": "$allIdProductAbstracts",
            "error_level": 6,
            "shortcode": 128
        }
    ],
    "warning": [
        {
            "severity": "info",
            "line_from": 64,
            "line_to": 64,
            "type": "PossiblyInvalidArgument",
            "message": "Argument 1 of Spryker\\Zed\\TaxProductConnector\\Business\\Calculator\\ProductItemTaxRateCalculator::recalculateWithItemTransfers expects ArrayObject<int, Generated\\Shared\\Transfer\\ItemTransfer>, possibly different type ArrayObject|array<array-key, Generated\\Shared\\Transfer\\ItemTransfer> provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Calculator/ProductItemTaxRateCalculator.php",
            "snippet": "        $itemTransfers = $this->recalculateWithItemTransfers($quoteTransfer->getItems());",
            "selected_text": "$quoteTransfer->getItems()",
            "error_level": 3,
            "shortcode": 92
        },
        {
            "severity": "info",
            "line_from": 75,
            "line_to": 75,
            "type": "PossiblyInvalidArgument",
            "message": "Argument 1 of Spryker\\Zed\\TaxProductConnector\\Business\\Calculator\\ProductItemTaxRateCalculator::recalculateWithItemTransfers expects ArrayObject<int, Generated\\Shared\\Transfer\\ItemTransfer>, possibly different type ArrayObject|array<array-key, Generated\\Shared\\Transfer\\ItemTransfer> provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Calculator/ProductItemTaxRateCalculator.php",
            "snippet": "        $itemTransfers = $this->recalculateWithItemTransfers($calculableObjectTransfer->getItems());",
            "selected_text": "$calculableObjectTransfer->getItems()",
            "error_level": 3,
            "shortcode": 92
        },
        {
            "severity": "info",
            "line_from": 100,
            "line_to": 100,
            "type": "PossiblyNullArgument",
            "message": "Argument 2 of Spryker\\Zed\\TaxProductConnector\\Business\\Calculator\\ProductItemTaxRateCalculator::getEffectiveTaxRate cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Calculator/ProductItemTaxRateCalculator.php",
            "snippet": "                $itemTransfer->getIdProductAbstract(),",
            "selected_text": "$itemTransfer->getIdProductAbstract()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 173,
            "line_to": 173,
            "type": "InvalidNullableReturnType",
            "message": "The declared return type 'string' for Spryker\\Zed\\TaxProductConnector\\Business\\Calculator\\ProductItemTaxRateCalculator::getShippingCountryIso2CodeByItem is not nullable, but 'null|string' contains null",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Calculator/ProductItemTaxRateCalculator.php",
            "snippet": "     * @return string",
            "selected_text": "string",
            "error_level": 5,
            "shortcode": 144
        },
        {
            "severity": "info",
            "line_from": 178,
            "line_to": 178,
            "type": "NullableReturnStatement",
            "message": "The declared return type 'string' for Spryker\\Zed\\TaxProductConnector\\Business\\Calculator\\ProductItemTaxRateCalculator::getShippingCountryIso2CodeByItem is not nullable, but the function returns 'null|string'",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Calculator/ProductItemTaxRateCalculator.php",
            "snippet": "            return $itemTransfer->getShipment()->getShippingAddress()->getIso2Code();",
            "selected_text": "$itemTransfer->getShipment()->getShippingAddress()->getIso2Code()",
            "error_level": 5,
            "shortcode": 139
        },
        {
            "severity": "info",
            "line_from": 178,
            "line_to": 178,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getShippingAddress on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Calculator/ProductItemTaxRateCalculator.php",
            "snippet": "            return $itemTransfer->getShipment()->getShippingAddress()->getIso2Code();",
            "selected_text": "getShippingAddress",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 178,
            "line_to": 178,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getIso2Code on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Calculator/ProductItemTaxRateCalculator.php",
            "snippet": "            return $itemTransfer->getShipment()->getShippingAddress()->getIso2Code();",
            "selected_text": "getIso2Code",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 236,
            "line_to": 236,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getIso2Code on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Calculator/ProductItemTaxRateCalculator.php",
            "snippet": "            $shipmentTransfer->getShippingAddress()->getIso2Code() !== null;",
            "selected_text": "getIso2Code",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 37,
            "line_to": 37,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\TaxProductConnector\\Persistence\\TaxProductConnectorRepositoryInterface::findByIdProductAbstract cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Expander/Product/ProductAbstractTaxSetExpander.php",
            "snippet": "        $taxSetTransfer = $this->taxProductConnectorRepository->findByIdProductAbstract($productAbstractTransfer->getIdProductAbstract());",
            "selected_text": "$productAbstractTransfer->getIdProductAbstract()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 63,
            "line_to": 63,
            "type": "PossiblyInvalidArgument",
            "message": "Argument 1 of Spryker\\Zed\\TaxProductConnector\\Business\\Model\\ProductItemTaxRateCalculator::recalculateWithItemsAndShippingAddress expects ArrayObject<int, Generated\\Shared\\Transfer\\ItemTransfer>, possibly different type ArrayObject|array<array-key, Generated\\Shared\\Transfer\\ItemTransfer> provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Model/ProductItemTaxRateCalculator.php",
            "snippet": "        $itemTransfers = $this->recalculateWithItemsAndShippingAddress($quoteTransfer->getItems(), $quoteTransfer->getShippingAddress());",
            "selected_text": "$quoteTransfer->getItems()",
            "error_level": 3,
            "shortcode": 92
        },
        {
            "severity": "info",
            "line_from": 74,
            "line_to": 74,
            "type": "PossiblyInvalidArgument",
            "message": "Argument 1 of Spryker\\Zed\\TaxProductConnector\\Business\\Model\\ProductItemTaxRateCalculator::recalculateWithItemsAndShippingAddress expects ArrayObject<int, Generated\\Shared\\Transfer\\ItemTransfer>, possibly different type ArrayObject|array<array-key, Generated\\Shared\\Transfer\\ItemTransfer> provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Model/ProductItemTaxRateCalculator.php",
            "snippet": "        $itemTransfers = $this->recalculateWithItemsAndShippingAddress($calculableObjectTransfer->getItems(), $calculableObjectTransfer->getShippingAddress());",
            "selected_text": "$calculableObjectTransfer->getItems()",
            "error_level": 3,
            "shortcode": 92
        },
        {
            "severity": "info",
            "line_from": 102,
            "line_to": 102,
            "type": "InvalidNullableReturnType",
            "message": "The declared return type 'string' for Spryker\\Zed\\TaxProductConnector\\Business\\Model\\ProductItemTaxRateCalculator::getShippingCountryIso2Code is not nullable, but 'null|string' contains null",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Model/ProductItemTaxRateCalculator.php",
            "snippet": "     * @return string",
            "selected_text": "string",
            "error_level": 5,
            "shortcode": 144
        },
        {
            "severity": "info",
            "line_from": 110,
            "line_to": 110,
            "type": "NullableReturnStatement",
            "message": "The declared return type 'string' for Spryker\\Zed\\TaxProductConnector\\Business\\Model\\ProductItemTaxRateCalculator::getShippingCountryIso2Code is not nullable, but the function returns 'null|string'",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Model/ProductItemTaxRateCalculator.php",
            "snippet": "        return $shippingAddressTransfer->getIso2Code();",
            "selected_text": "$shippingAddressTransfer->getIso2Code()",
            "error_level": 5,
            "shortcode": 139
        },
        {
            "severity": "info",
            "line_from": 137,
            "line_to": 137,
            "type": "PossiblyNullArgument",
            "message": "Argument 2 of Spryker\\Zed\\TaxProductConnector\\Business\\Model\\ProductItemTaxRateCalculator::getEffectiveTaxRate cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Model/ProductItemTaxRateCalculator.php",
            "snippet": "            $itemTransfer->setTaxRate($this->getEffectiveTaxRate($taxRates, $itemTransfer->getIdProductAbstract()));",
            "selected_text": "$itemTransfer->getIdProductAbstract()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 42,
            "line_to": 42,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\TaxProductConnector\\Persistence\\TaxProductConnectorRepositoryInterface::findTaxSetByProductAbstractSku cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Product/ProductAbstractTaxReader.php",
            "snippet": "        $taxSetTransfer = $this->taxProductConnectorRepository->findTaxSetByProductAbstractSku($productAbstractTransfer->getSku());",
            "selected_text": "$productAbstractTransfer->getSku()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 49,
            "line_to": 49,
            "type": "PossiblyNullArgument",
            "message": "Argument 2 of sprintf cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Product/ProductAbstractTaxReader.php",
            "snippet": "                    $productAbstractTransfer->getIdProductAbstract(),",
            "selected_text": "$productAbstractTransfer->getIdProductAbstract()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 41,
            "line_to": 41,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\TaxProductConnector\\Persistence\\TaxProductConnectorQueryContainerInterface::queryTaxSetForProductAbstract cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Product/ProductAbstractTaxSetMapper.php",
            "snippet": "            ->queryTaxSetForProductAbstract($productAbstractTransfer->getIdProductAbstract())",
            "selected_text": "$productAbstractTransfer->getIdProductAbstract()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 48,
            "line_to": 48,
            "type": "PossiblyNullArgument",
            "message": "Argument 2 of sprintf cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Product/ProductAbstractTaxSetMapper.php",
            "snippet": "                    $productAbstractTransfer->getIdProductAbstract(),",
            "selected_text": "$productAbstractTransfer->getIdProductAbstract()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 41,
            "line_to": 41,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\TaxProductConnector\\Persistence\\TaxProductConnectorQueryContainerInterface::queryProductAbstractById cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Product/ProductAbstractTaxWriter.php",
            "snippet": "            ->queryProductAbstractById($productConcreteTransfer->getIdProductAbstract())",
            "selected_text": "$productConcreteTransfer->getIdProductAbstract()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 48,
            "line_to": 48,
            "type": "PossiblyNullArgument",
            "message": "Argument 2 of sprintf cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/Product/ProductAbstractTaxWriter.php",
            "snippet": "                    $productConcreteTransfer->getIdProductAbstract(),",
            "selected_text": "$productConcreteTransfer->getIdProductAbstract()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 83,
            "line_to": 83,
            "type": "PossiblyInvalidArgument",
            "message": "Argument 1 of Spryker\\Zed\\TaxProductConnector\\Business\\StrategyResolver\\ProductItemTaxRateCalculatorStrategyResolver::resolve expects ArrayObject<int, Generated\\Shared\\Transfer\\ItemTransfer>, possibly different type ArrayObject|array<array-key, Generated\\Shared\\Transfer\\ItemTransfer> provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/TaxProductConnectorFacade.php",
            "snippet": "            ->resolve($quoteTransfer->getItems(), $quoteTransfer->getShippingAddress())",
            "selected_text": "$quoteTransfer->getItems()",
            "error_level": 3,
            "shortcode": 92
        },
        {
            "severity": "info",
            "line_from": 100,
            "line_to": 100,
            "type": "PossiblyInvalidArgument",
            "message": "Argument 1 of Spryker\\Zed\\TaxProductConnector\\Business\\StrategyResolver\\ProductItemTaxRateCalculatorStrategyResolver::resolve expects ArrayObject<int, Generated\\Shared\\Transfer\\ItemTransfer>, possibly different type ArrayObject|array<array-key, Generated\\Shared\\Transfer\\ItemTransfer> provided",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/TaxProductConnectorFacade.php",
            "snippet": "            ->resolve($calculableObjectTransfer->getItems(), $calculableObjectTransfer->getShippingAddress())",
            "selected_text": "$calculableObjectTransfer->getItems()",
            "error_level": 3,
            "shortcode": 92
        }
    ],
    "deprecation": [
        {
            "severity": "info",
            "line_from": 82,
            "line_to": 82,
            "type": "DeprecatedMethod",
            "message": "The method Spryker\\Zed\\TaxProductConnector\\Business\\TaxProductConnectorBusinessFactory::createProductItemTaxRateCalculatorStrategyResolver has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/TaxProductConnectorFacade.php",
            "snippet": "            ->createProductItemTaxRateCalculatorStrategyResolver()",
            "selected_text": "createProductItemTaxRateCalculatorStrategyResolver",
            "error_level": 2,
            "shortcode": 1
        },
        {
            "severity": "info",
            "line_from": 83,
            "line_to": 83,
            "type": "DeprecatedMethod",
            "message": "The method Generated\\Shared\\Transfer\\QuoteTransfer::getShippingAddress has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/TaxProductConnectorFacade.php",
            "snippet": "            ->resolve($quoteTransfer->getItems(), $quoteTransfer->getShippingAddress())",
            "selected_text": "getShippingAddress",
            "error_level": 2,
            "shortcode": 1
        },
        {
            "severity": "info",
            "line_from": 99,
            "line_to": 99,
            "type": "DeprecatedMethod",
            "message": "The method Spryker\\Zed\\TaxProductConnector\\Business\\TaxProductConnectorBusinessFactory::createProductItemTaxRateCalculatorStrategyResolver has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/TaxProductConnectorFacade.php",
            "snippet": "            ->createProductItemTaxRateCalculatorStrategyResolver()",
            "selected_text": "createProductItemTaxRateCalculatorStrategyResolver",
            "error_level": 2,
            "shortcode": 1
        },
        {
            "severity": "info",
            "line_from": 100,
            "line_to": 100,
            "type": "DeprecatedMethod",
            "message": "The method Generated\\Shared\\Transfer\\CalculableObjectTransfer::getShippingAddress has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Business/TaxProductConnectorFacade.php",
            "snippet": "            ->resolve($calculableObjectTransfer->getItems(), $calculableObjectTransfer->getShippingAddress())",
            "selected_text": "getShippingAddress",
            "error_level": 2,
            "shortcode": 1
        },
        {
            "severity": "info",
            "line_from": 28,
            "line_to": 28,
            "type": "DeprecatedMethod",
            "message": "The method Spryker\\Zed\\TaxProductConnector\\Business\\TaxProductConnectorFacadeInterface::getTaxSetForProductAbstract has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/TaxProductConnector/src/Spryker/Zed/TaxProductConnector/Communication/Controller/GatewayController.php",
            "snippet": "        return $this->getFacade()->getTaxSetForProductAbstract($productAbstractTransfer);",
            "selected_text": "getTaxSetForProductAbstract",
            "error_level": 2,
            "shortcode": 1
        }
    ],
    "count": 31
}
